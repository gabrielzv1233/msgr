<!DOCTYPE html>
<html>
<head>
    <script>
        if (window.location.hostname === 'msgr.gabrielzv1233.repl.co') {
            window.location.href = 'http://msgr.gabrielzv1233.net/send.html';
        }
    </script>
    <meta content="msgr" property="og:title" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="msgr is a simple chatting website" property="og:description" />
    <meta content="https://msgr.gabrielzv1233.net" property="og:url" />
    <meta content="https://msgr.gabrielzv1233.net/favicon.png" property="og:image" />
    <meta content="#0E1525" data-react-helmet="true" name="theme-color" />
    <meta name="keywords" content="english, texting, text, chatroom, python, chatting, multiplayer">
    <meta name="author" content="Gabrielzv1233">
    <meta charset="UTF-8">
    <!-- link rel="icon" href="https://msgr.gabrielzv1233.net/favicon.png" -->
    <title>Message Sender</title>
    <style>body{background-color:#1C2333}label{color:#f5f9fc}.um{border-radius:4px;outline:0;border:1px #000;background-color:#3C445C;color:#CCD1D9;font-weight:700}</style>
</head>
<body style="margin:0px;overflow:hidden;">
<center>
    <form action="/send" method="POST" onsubmit="saveUsername()">
        <label for="username"><b>Username:</b></label><br>
        <input tabindex="0" style="text-align:center;" autocorrect="false" autocomplete="off" type="text"
               maxlength="27" class="um" id="username" name="user" required><br>
        <label for="message"><b>Message:</b></label>
        <input tabindex="0" maxlength="1000" autocorrect="true" autocomplete="off" type="text" id="message"
               name="msg" class="um" style="width:99%;" autofocus required><br>

        <input tabindex="0"
               style="border:hidden;border-radius:10px;width:10vw;background-color:#0053A6;color:#F5F9FC;" type="submit"
               value="Send" onclick="removeUnloadEvent()">
    </form>
</center>
<script>
function generateUUID(){return"xxxxxxxx-xxxx-xxxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=16*Math.random()|0
  return("x"===e?n:3&n|8).toString(16)})}function getCookie(e){for(var n=e+"=",t=decodeURIComponent(document.cookie).split(";"),o=0;o<t.length;o++){for(var r=t[o];" "==r.charAt(0);)r=r.substring(1)
  if(0==r.indexOf(n))return r.substring(n.length,r.length)}return""}function saveUsername(){setCookie("username",document.getElementById("username").value,365)}function removeUnloadEvent(){window.removeEventListener("beforeunload",handleBeforeUnload)}function handleBeforeUnload(e){""!==messageField.value.trim()&&(e.preventDefault(),e.returnValue="")}function setCookie(e,n,t){var o=new Date
  o.setTime(o.getTime()+864e5*t)
  var r="expires="+o.toUTCString()
  document.cookie=e+"="+n+"; "+r+"; path=/"}if(!document.cookie.includes("fingerprint")){var e=generateUUID()
  document.cookie="fingerprint="+e+"; SameSite=None; Secure; path=/"}var messageField=document.getElementById("message")
  window.onload=function(){var e=getCookie("username")
  e&&(document.getElementById("username").value=e)},window.addEventListener("message",function(e){"saveUsername"===e.data&&saveUsername()}),window.addEventListener("beforeunload",handleBeforeUnload)
</script>
</body>
</html>